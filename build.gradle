// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        jcenter()
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:2.2.2'
        classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.8'
    }
}

allprojects {
    tasks.withType(JavaCompile) {
        options.compilerArgs << "-Xlint:all"
        options.compilerArgs << "-Werror"
        // errorprone experimental checks. See: http://errorprone.info/bugpatterns
        options.compilerArgs << "-Xep:ArgumentParameterSwap"
        options.compilerArgs << "-Xep:AssistedInjectAndInjectOnSameConstructor"
        options.compilerArgs << "-Xep:AutoFactoryAtInject"
        options.compilerArgs << "-Xep:ClassName"
        options.compilerArgs << "-Xep:ComparisonContractViolated"
        options.compilerArgs << "-Xep:DepAnn"
        options.compilerArgs << "-Xep:DivZero"
        options.compilerArgs << "-Xep:EmptyIf"
        options.compilerArgs << "-Xep:InjectInvalidTargetingOnScopingAnnotation"
        options.compilerArgs << "-Xep:InjectMoreThanOneQualifier"
        options.compilerArgs << "-Xep:InjectScopeAnnotationOnInterfaceOrAbstractClass"
        options.compilerArgs << "-Xep:InjectScopeOrQualifierAnnotationRetention"
        options.compilerArgs << "-Xep:InjectedConstructorAnnotations"
        options.compilerArgs << "-Xep:JMockTestWithoutRunWithOrRuleAnnotation"
        options.compilerArgs << "-Xep:JavaxInjectOnFinalField"
        options.compilerArgs << "-Xep:LockMethodChecker"
        options.compilerArgs << "-Xep:LongLiteralLowerCaseSuffix"
        options.compilerArgs << "-Xep:MultibindsInsteadOfMultibindings"
        options.compilerArgs << "-Xep:NoAllocation"
        options.compilerArgs << "-Xep:NonRuntimeAnnotation"
        options.compilerArgs << "-Xep:NumericEquality"
        options.compilerArgs << "-Xep:ParameterPackage"
        options.compilerArgs << "-Xep:ProtoStringFieldReferenceEquality"
        options.compilerArgs << "-Xep:QualifierOnMethodWithoutProvides"
        options.compilerArgs << "-Xep:StaticOrDefaultInterfaceMethod"
        options.compilerArgs << "-Xep:UnlockMethod"
//        options.compilerArgs << "-Xep:ArgumentParameterMismatch" // ??
        options.compilerArgs << "-Xep:AssertFalse"
        options.compilerArgs << "-Xep:AssistedInjectAndInjectOnConstructors"
        options.compilerArgs << "-Xep:BigDecimalLiteralDouble"
        options.compilerArgs << "-Xep:BindingToUnqualifiedCommonType"
        options.compilerArgs << "-Xep:EmptyTopLevelDeclaration"
        options.compilerArgs << "-Xep:HardCodedSdCardPath"
        options.compilerArgs << "-Xep:NonCanonicalStaticMemberImport"
        options.compilerArgs << "-Xep:PrimitiveArrayPassedToVarargsMethod"
        options.compilerArgs << "-Xep:QualifierWithTypeUse"
        options.compilerArgs << "-Xep:RedundantThrows"
        options.compilerArgs << "-Xep:StaticAccessedFromInstance"
        options.compilerArgs << "-Xep:StringEquality"
//        options.compilerArgs << "-Xep:Var" // Too noisy
//        options.compilerArgs << "-Xep:ConstantField" // Too noisy
        options.compilerArgs << "-Xep:EmptySetMultibindingContributions"
//        options.compilerArgs << "-Xep:FieldMissingNullable" // Nope, doesn't work
        options.compilerArgs << "-Xep:MethodCanBeStatic"
        options.compilerArgs << "-Xep:MixedArrayDimensions"
//        options.compilerArgs << "-Xep:MultiVariableDeclaration" // TODO
//        options.compilerArgs << "-Xep:MultipleTopLevelClasses" // TODO
        options.compilerArgs << "-Xep:PackageLocation"
//        options.compilerArgs << "-Xep:ParameterNotNullable" // Nope, does not work
        options.compilerArgs << "-Xep:PrivateConstructorForNoninstantiableModuleTest"
//        options.compilerArgs << "-Xep:PrivateConstructorForUtilityClass" // Too noisy
        options.compilerArgs << "-Xep:RemoveUnusedImports"
//        options.compilerArgs << "-Xep:ReturnMissingNullable" // Doesn't work
        options.compilerArgs << "-Xep:ThrowsUncheckedException"
        options.compilerArgs << "-Xep:UnnecessaryStaticImport"
        options.compilerArgs << "-Xep:UseBinds"
        options.compilerArgs << "-Xep:WildcardImport"
    }
    repositories {
        jcenter()
        maven { url "https://jitpack.io" }
    }
}
